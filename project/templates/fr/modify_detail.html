{% extends "index.html" %}
{% block content %}
<div class="mymain-bar d-flex justify-content-between align-items-center">
    <h1>Modifier les détails du dossier - {{ dossier.name }}</h1>
    <div style="margin-right: 80px;">
        <a href="/en/switch_to_fr" class="btn btn-outline-dark me-2">Français</a>
        <a href="/fr/switch_to_en" class="btn btn-outline-dark">Anglais</a>
    </div>
</div>
<div style="padding-left: 35px;">
    <div class="my-box p-3 mt-5">
        <h2 class="mb-5 text-center">Modifier les détails du dossier</h2>
        <form action="/fr/modify_detail/{{ dossier.id }}" method="post">
            <input type="hidden" name="dossier_id" value="{{ dossier.id }}" />
            
            <p class="mt-3"><strong>Email:</strong> <span class="encadre">{{ dossier.mail }}</span></p>
            <div class="mb-3">
                <label for="mail" class="form-label">Modifier l'Email</label>
                <input type="email" id="mail" name="mail" class="form-control" value="{{ dossier.mail }}" required />
            </div>
            
            <p><strong>Numéro de téléphone:</strong> <span class="encadre">{{ dossier.phonenumber }}</span></p>
            <div class="mb-3">
                <label for="phonenumber" class="form-label">Modifier le Numéro de téléphone</label>
                <input type="text" id="phonenumber" name="phonenumber" class="form-control" value="{{ dossier.phonenumber }}" required />
            </div>
            
            <p><strong>Date de clôture:</strong>
                {% if details.date_cloture %}
                    <span class="encadre">{{ details.date_cloture.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_cloture" class="form-label">Modifier la Date de clôture</label>
                <input type="date" id="date_cloture" name="date_cloture" class="form-control" value="{{ details.date_cloture.strftime('%Y-%m-%d') if details.date_cloture else '' }}" />
            </div>
            
            <p><strong>Date de réception:</strong>
                {% if details.date_reception %}
                    <span class="encadre">{{ details.date_reception.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_reception" class="form-label">Modifier la Date de réception</label>
                <input type="date" id="date_reception" name="date_reception" class="form-control" value="{{ details.date_reception.strftime('%Y-%m-%d') if details.date_reception else '' }}" />
            </div>
            
            <p><strong>Dossier complet:</strong> <span class="encadre">{{ details.dossier_complet }}</span></p>
            <div class="mb-3">
                <label for="dossier_complet" class="form-label">Modifier Dossier Complet</label>
                <select id="dossier_complet" name="dossier_complet" class="form-control">
                    <option value="True" {% if details.dossier_complet %}selected{% endif %}>Oui</option>
                    <option value="False" {% if not details.dossier_complet %}selected{% endif %}>Non</option>
                </select>
            </div>
        
            <p><strong>Date de transmission à la commission:</strong>
                {% if details.date_transmission_commission %}
                    <span class="encadre">{{ details.date_transmission_commission.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_transmission_commission" class="form-label">Modifier Date de Transmission à la Commission</label>
                <input type="date" id="date_transmission_commission" name="date_transmission_commission" class="form-control" value="{{ details.date_transmission_commission.strftime('%Y-%m-%d') if details.date_transmission_commission else '' }}" />
            </div>
        
            <p><strong>Date de réunion de la commission:</strong>
                {% if details.date_reunion_commission %}
                    <span class="encadre">{{ details.date_reunion_commission.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_reunion_commission" class="form-label">Modifier Date de Réunion de la Commission</label>
                <input type="date" id="date_reunion_commission" name="date_reunion_commission" class="form-control" value="{{ details.date_reunion_commission.strftime('%Y-%m-%d') if details.date_reunion_commission else '' }}" />
            </div>
            
            <p><strong>Candidature non retenue:</strong> <span class="encadre">{{ details.candidature_non_retenue }}</span></p>
            <div class="mb-3">
                <label for="candidature_non_retenue" class="form-label">Modifier Candidature Non Retenue</label>
                <select id="candidature_non_retenue" name="candidature_non_retenue" class="form-select">
                    <option value="Pending" selected>En attente</option>
                    <option value="yes">Oui</option>
                    <option value="no">Non</option>
                </select>
            </div>
            
            <p><strong>Confirmation de l'information:</strong> <span class="encadre">{{ details.confirmation_information }}</span></p>
            <div class="mb-3">
                <label for="confirmation_information" class="form-label">Modifier Confirmation Information</label>
                <select id="confirmation_information" name="confirmation_information" class="form-control">
                    <option value="True" {% if details.confirmation_information %}selected{% endif %}>Oui</option>
                    <option value="False" {% if not details.confirmation_information %}selected{% endif %}>Non</option>
                </select>
            </div>
        
            <p><strong>Date où le candidat sera entendu:</strong>
                {% if details.date_entendu %}
                    <span class="encadre">{{ details.date_entendu.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_entendu" class="form-label">Modifier Date où le Candidat sera Entendu</label>
                <input type="date" id="date_entendu" name="date_entendu" class="form-control" value="{{ details.date_entendu.strftime('%Y-%m-%d') if details.date_entendu else '' }}" />
            </div>
        
            <p><strong>Position dans le classement:</strong> <span class="encadre">{{ details.position_classement }}</span></p>
            <div class="mb-3">
                <label for="position_classement" class="form-label">Modifier Position dans le Classement</label>
                <input type="number" id="position_classement" name="position_classement" class="form-control" value="{{ details.position_classement }}" />
            </div>
        
            <p><strong>Date de soumission aux autorités facultaires:</strong>
                {% if details.date_soumission_autorites %}
                    <span class="encadre">{{ details.date_soumission_autorites.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_soumission_autorites" class="form-label">Modifier Date de Soumission aux Autorités Facultaires</label>
                <input type="date" id="date_soumission_autorites" name="date_soumission_autorites" class="form-control" value="{{ details.date_soumission_autorites.strftime('%Y-%m-%d') if details.date_soumission_autorites else '' }}" />
            </div>
        
            <p><strong>Date de transmission aux autorités:</strong>
                {% if details.date_transmission_autorites %}
                    <span class="encadre">{{ details.date_transmission_autorites.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_transmission_autorites" class="form-label">Modifier Date de Transmission aux Autorités</label>
                <input type="date" id="date_transmission_autorites" name="date_transmission_autorites" class="form-control" value="{{ details.date_transmission_autorites.strftime('%Y-%m-%d') if details.date_transmission_autorites else '' }}" />
            </div>
        
            <p><strong>Date prévue de l'entrée en fonction:</strong>
                {% if details.date_entree_fonction %}
                    <span class="encadre">{{ details.date_entree_fonction.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_entree_fonction" class="form-label">Modifier Date d'Entrée en Fonction</label>
                <input type="date" id="date_entree_fonction" name="date_entree_fonction" class="form-control" value="{{ details.date_entree_fonction.strftime('%Y-%m-%d') if details.date_entree_fonction else '' }}" />
            </div>
        
            <p><strong>Date de suppression du dossier:</strong>
                {% if details.date_suppression_dossier %}
                    <span class="encadre">{{ details.date_suppression_dossier.strftime('%d/%m/%Y') }}</span>
                {% else %}
                    <span class="encadre">Non définie</span>
                {% endif %}
            </p>
            <div class="mb-3">
                <label for="date_suppression_dossier" class="form-label">Modifier Date de Suppression du Dossier</label>
                <input type="date" id="date_suppression_dossier" name="date_suppression_dossier" class="form-control" value="{{ details.date_suppression_dossier.strftime('%Y-%m-%d') if details.date_suppression_dossier else '' }}" />
            </div>
        
            <!-- Bouton de soumission -->
            <div class="text-center">
                <button type="submit" class="btn btn-outline-dark">Enregistrer les modifications</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}